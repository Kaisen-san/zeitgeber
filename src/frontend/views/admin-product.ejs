<!DOCTYPE html>
<html lang='en'>

<head>
  <%- include( 'partials/head', {
    pageTitle: 'Zeitgeber Store - Admin View',
    stylesFilename: 'admin'
  }) %>
</head>

<body>
  <header class='header'>
    <%- include( '../components/logo', {
      ref: '/admin',
      src: '/img/t4p-dark.svg',
      alt: 'Tech4People'
    }) %>

    <%- include( '../components/menu', {
      elements: [
        { ref: '/', content: 'Site' },
        { ref: '/admin/logout', content: 'Logout' }
      ]
    }) %>
  </header>

  <article>
    <h1 class='admin__title'>Product</h1>
    <form id='product'>
      <div class='admin__item admin__item--maximized'>
        <h3 class='admin__label'>Name</h3>
        <%- include( '../components/input', { type: 'text', name: 'name', placeholder: '', iconClass: 'far fa-file-alt', value: product.name } ) %>
      </div>
      <div class='admin__item admin__item--maximized'>
        <h3 class='admin__label'>Category</h3>
        <%- include( '../components/input', { type: 'text', name: 'category', placeholder: '', iconClass: 'far fa-file-alt', value: product.category } ) %>
      </div>
      <%- include( '../components/button', { id: '', type: 'submit', content: 'Save<i class="fas fa-save icon"></i>', extraClasses: '', extraLinkClasses: '' } ) %>
    </form>
  </article>

  <article>
    <h1 class='admin__title'>Card</h1>
    <form id='card'>
      <div class='admin__item admin__item--maximized'>
        <h3 class='admin__label'>Brief</h3>
        <%- include( '../components/input', { type: 'text', name: 'brief', placeholder: '', iconClass: 'far fa-file-alt', value: productCard.brief } ) %>
      </div>
      <div class='admin__item admin__item--maximized'>
        <h3 class='admin__label'>Image</h3>
        <%- include( '../components/link', { id: '', ref: '', extraClasses: 'link--nofill', content: `<img name='image' class='image__button' src='${productCard.image}'>` } ) %>
      </div>
      <%- include( '../components/button', { id: '', type: 'submit', content: 'Save<i class="fas fa-save icon"></i>', extraClasses: '', extraLinkClasses: '' } ) %>
    </form>
  </article>

  <article>
    <h1 class='admin__title'>Purchase</h1>
    <form id='purchase'>
      <div class='admin__item admin__item--maximized'>
        <h3 class='admin__label'>Description</h3>
        <%- include( '../components/textarea', { name: 'short_description', cols: '50', rows: '30', placeholder: '', content: productInfo.shortDescription, extraClasses: '' } ) %>
      </div>
      <div class='admin__item'>
        <h3 class='admin__label'>Options</h3>
        <% options.forEach( ({ id, text, subtext }) => { %>
          <label class='options__option'>
            <input id='<%= id %>' type='checkbox' class='options__input' <%= productOptions.some(opt => id === opt.id) ? 'checked' : '' %>>
            <span class='options__checkbox options__checkbox--lighter'></span>
            <%= text %>
            <p class='options__subtext options__subtext--darker'><%= subtext %></p>
          </label>
        <% }); %>
      </div>
      <div class='admin__item admin__item--maximized'>
        <h3 class='admin__label'>Images</h3>
        <div class='admin__wrapper'>
          <% productImages.forEach(({ image }) => { %>
            <div class='admin__item'>
              <%- include( '../components/link', { id: '', ref: '', extraClasses: 'link--nofill', content: `<img name='image' class='image__button' src='${image}'>` } ) %>
              <%- include( '../components/button', { id: '', type: 'button', content: 'Delete<i class="fas fa-trash-alt icon"></i>', extraClasses: '', extraLinkClasses: 'link--danger' } ) %>
            </div>
          <% }) %>
          <div class='admin__item admin__item--dark'>
            <%- include( '../components/link', { id: 'purchase_add', ref: '', extraClasses: 'link--nofill link--maximized link--centered', content: '<i class="far fa-plus-square admin__add"></i>' } ) %>
          </div>
        </div>
      </div>
      <%- include( '../components/button', { id: '', type: 'submit', content: 'Save<i class="fas fa-save icon"></i>', extraClasses: '', extraLinkClasses: '' } ) %>
    </form>
  </article>

  <article>
    <h1 class='admin__title'>Product Info</h1>
    <form id='product_info'>
      <div class='admin__item admin__item--maximized'>
        <h3 class='admin__label'>Description</h3>
        <%- include( '../components/textarea', { name: 'long_description', cols: '50', rows: '30', placeholder: '', content: productInfo.longDescription, extraClasses: 'textarea--tall' } ) %>
      </div>
      <div class='admin__item admin__item--maximized'>
        <h3 class='admin__label'>Bullets</h3>
        <%- include( '../components/textarea', { name: 'bullets', cols: '50', rows: '30', placeholder: '', content: productInfo.bullets, extraClasses: '' } ) %>
      </div>
      <div class='admin__item admin__item--maximized'>
        <h3 class='admin__label'>Characteristics</h3>
        <%- include( '../components/textarea', { name: 'characteristics', cols: '50', rows: '30', placeholder: '', content: productInfo.characteristics, extraClasses: 'textarea--tall' } ) %>
      </div>
      <%- include( '../components/button', { id: '', type: 'submit', content: 'Save<i class="fas fa-save icon"></i>', extraClasses: '', extraLinkClasses: '' } ) %>
    </form>
  </article>

  <div id='images_popup' class='images__wrapper'>
    <div class='images'>
      <div class='images__cancel'><i class='fas fa-times'></i></div>
      <% images.forEach(({ image }) => { %>
        <%- include( '../components/link', { id: '', ref: '', extraClasses: 'link--nofill images__item', content: `<img class='image__button' src='${image}'>` } ) %>
      <% }) %>
    </div>
  </div>

  <template>
    <div class='admin__item'>
      <%- include( '../components/link', { id: '', ref: '', extraClasses: 'link--nofill', content: '<img name="image" class="image__button">' } ) %>
      <%- include( '../components/button', { id: '', type: 'button', content: 'Delete<i class="fas fa-trash-alt icon"></i>', extraClasses: '', extraLinkClasses: 'link--danger' } ) %>
    </div>
  </template>

  <%- include('partials/scripts', { scriptFilename: 'admin-product' } ) %>
</body>

</html>