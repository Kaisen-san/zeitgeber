
let _isBelowTriggerZone=false;(()=>{const switchThemes=(trigger,header,headerLogo,lightLogo,darkLogo,themeClass)=>{window.addEventListener('scroll',evt=>{const positionFromTop=trigger.getBoundingClientRect().top;if(_isBelowTriggerZone){if(positionFromTop>=65){header.classList.remove(themeClass);headerLogo.attributes.src.value=lightLogo;_isBelowTriggerZone=false;}}else{if(positionFromTop<65){header.classList.add(themeClass);headerLogo.attributes.src.value=darkLogo;_isBelowTriggerZone=true;}}});}
const trigger=document.querySelector('.products');const header=document.querySelector('.header');const headerLogo=document.querySelector('.header .logo__content');switchThemes(trigger,header,headerLogo,'/img/t4p-light.svg','/img/t4p-dark.svg','header--dark');})();

const setImagesWhenLoaded=(products)=>{const imgPromises=products.map(p=>fetch(p.getAttribute('imgUrl')));Promise.all(imgPromises).then(imgs=>{products.forEach((p,i)=>{p.style.backgroundImage=`url(${imgs[i].url})`;})});};const products=Array.from(document.querySelectorAll('.products .product'));